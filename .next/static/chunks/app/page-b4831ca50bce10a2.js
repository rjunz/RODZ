(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4906:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a});var i=t(5155),s=t(2115);function a(){var e;let{data:n,status:t}=function(){let[e,n]=(0,s.useState)(null),[t,i]=(0,s.useState)("loading");return(0,s.useEffect)(()=>{fetch("/api/auth/session",{credentials:"include"}).then(e=>e.ok?e.json():Promise.reject()).then(e=>{e.ok?(n(e.user),i("authed")):i("unauth")}).catch(()=>i("unauth"))},[]),{data:e,status:t}}();return"loading"===t?(0,i.jsx)("main",{style:{padding:24},children:"Carregandoâ€¦"}):"unauth"===t?(0,i.jsx)("main",{style:{padding:24},children:(0,i.jsx)("a",{href:"/login",children:"Entrar"})}):(0,i.jsxs)("main",{style:{padding:24},children:[(0,i.jsxs)("h1",{children:["Bem-vindo, ",null!=(e=null==n?void 0:n.name)?e:null==n?void 0:n.username]}),(0,i.jsx)("pre",{children:JSON.stringify(n,null,2)}),(0,i.jsx)("form",{action:"/api/auth/logout",method:"post",children:(0,i.jsx)("button",{children:"Sair"})})]})}},8796:(e,n,t)=>{Promise.resolve().then(t.bind(t,4906))}},e=>{e.O(0,[441,255,358],()=>e(e.s=8796)),_N_E=e.O()}]);